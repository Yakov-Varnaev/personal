<template>
  <section class="mentorship-section" @click="closeCard">
    <v-container>
      <div class="title-block">
        <h2 class="title">–ü–æ—á–µ–º—É –º–µ–Ω—Ç–æ—Ä—Å—Ç–≤–æ ‚Äî —ç—Ç–æ –≤–∞–∂–Ω–æ</h2>
        <p class="subtitle">
          –†–æ—Å—Ç –≤ 2 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ. –ú–µ–Ω—å—à–µ —Ö–∞–æ—Å–∞ ‚Äî –±–æ–ª—å—à–µ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏.
        </p>
      </div>

      <v-row dense>
        <v-col
          v-for="(benefit, index) in benefits"
          :key="index"
          cols="12"
          sm="6"
          md="4"
        >
          <div
            class="benefit-card"
            :class="{
              expanded: expandedIndex === index,
              blurred: expandedIndex !== null && expandedIndex !== index,
            }"
            @click.stop="toggleCard(index)"
          >
            <div class="icon">{{ benefit.icon }}</div>
            <h3 class="benefit-title">{{ benefit.title }}</h3>
            <p class="benefit-description">{{ benefit.description }}</p>
            <p v-if="expandedIndex === index" class="extra-description">
              {{ benefit.extra }}
            </p>
          </div>
        </v-col>
      </v-row>

      <div class="cta">
        <button class="cta-button">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Å–æ–∑–≤–æ–Ω</button>
      </div>
    </v-container>
  </section>
</template>

<script setup lang="ts">
import { ref } from "vue";

const expandedIndex = ref<number | null>(null);

function toggleCard(index: number) {
  expandedIndex.value = expandedIndex.value === index ? null : index;
}

function closeCard() {
  expandedIndex.value = null;
}

const benefits = [
  {
    icon: "üöÄ",
    title: "–ë—ã—Å—Ç—Ä—ã–π —Ä–æ—Å—Ç",
    description: "–†–∞–∑–≤–∏–≤–∞–µ—à—å—Å—è –≤ 2-3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ.",
    extra:
      "–ë–µ–∑ –º–µ–Ω—Ç–æ—Ä–∞ –ø—É—Ç—å —á–∞—Å—Ç–æ —Ö–∞–æ—Ç–∏—á–µ–Ω. –° –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–æ–º ‚Äî —Ç—ã —Ç–æ—á–Ω–æ –∑–Ω–∞–µ—à—å —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥.",
  },
  {
    icon: "üß≠",
    title: "–ö–∞—Ä—å–µ—Ä–Ω—ã–π –≤–µ–∫—Ç–æ—Ä",
    description: "–§–æ–∫—É—Å –Ω–∞ –Ω—É–∂–Ω—ã–µ –Ω–∞–≤—ã–∫–∏.",
    extra:
      "–ú–µ–Ω—Ç–æ—Ä –ø–æ–º–æ–≥–∞–µ—Ç –≤—ã—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–ª–∞–Ω –∏ –æ—Ç—Å–µ—á—å –ª–∏—à–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è.",
  },
  {
    icon: "üõ†",
    title: "–ü—Ä–∞–∫—Ç–∏–∫–∞, –∞ –Ω–µ —Ç–µ–æ—Ä–∏—è",
    description: "–†–µ—à–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á.",
    extra: "–¢—ã —É—á–∏—à—å—Å—è –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö, –∞ –Ω–µ –≤—ã–¥—É–º–∞–Ω–Ω—ã—Ö —Ç—É—Ç–æ—Ä–∏–∞–ª–∞—Ö.",
  },
  {
    icon: "üí¨",
    title: "–§–∏–¥–±–µ–∫ –ø–æ –¥–µ–ª—É",
    description: "–ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å.",
    extra:
      "–ë–µ–∑ –¥–æ–≥–∞–¥–æ–∫ ‚Äî —Ç–µ–±–µ —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, –≥–¥–µ –æ—à–∏–±–∫–∞ –∏ –∫–∞–∫ –µ—ë –∏—Å–ø—Ä–∞–≤–∏—Ç—å.",
  },
  {
    icon: "üîç",
    title: "–ê–Ω–∞–ª–∏–∑ —Å–ª–∞–±—ã—Ö –º–µ—Å—Ç",
    description: "–£–≤–∏–¥–µ—Ç—å —Ç–æ, —á–µ–≥–æ —Å–∞–º –Ω–µ –∑–∞–º–µ—á–∞–µ—à—å.",
    extra: "–ú–µ–Ω—Ç–æ—Ä –ø–æ–¥–º–µ—á–∞–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ —É—è–∑–≤–∏–º–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã –Ω–µ –æ—Å–æ–∑–Ω–∞—ë—à—å.",
  },
  {
    icon: "üß†",
    title: "–ù–∞—Ä–∞—â–∏–≤–∞–Ω–∏–µ —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã",
    description: "–¢—ã –ø–µ—Ä–µ–Ω–∏–º–∞–µ—à—å –º—ã—à–ª–µ–Ω–∏–µ –æ–ø—ã—Ç–Ω–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.",
    extra: "–≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∑–Ω–∞–Ω–∏—è ‚Äî —ç—Ç–æ —Ü–µ–ª–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π.",
  },
  {
    icon: "ü§ù",
    title: "–ü–æ–¥–¥–µ—Ä–∂–∫–∞",
    description: "–ü–ª–µ—á–æ –∏ –æ–ø–æ—Ä–∞ –Ω–∞ –ø—É—Ç–∏.",
    extra: "–ö–æ–≥–¥–∞ —Å–ª–æ–∂–Ω–æ ‚Äî —Ç—ã –Ω–µ –æ–¥–∏–Ω. –≠—Ç–æ –∫–∞–∫ –º–∏–Ω–∏-–∫–æ–º–∞–Ω–¥–∞.",
  },
  {
    icon: "üéØ",
    title: "–§–æ–∫—É—Å –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã",
    description: "–ù–µ —Ç—Ä–∞—Ç–∏—à—å —Å–∏–ª—ã –≤–ø—É—Å—Ç—É—é.",
    extra: "–ú–µ–Ω—Ç–æ—Ä –ø–æ–º–æ–≥–∞–µ—Ç –Ω–µ —Ä–∞—Å–ø—ã–ª—è—Ç—å—Å—è –∏ –¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω–æ–µ.",
  },
  {
    icon: "üìà",
    title: "–¢—Ä–∞–µ–∫—Ç–æ—Ä–∏—è —Ä–æ—Å—Ç–∞",
    description: "–¢—ã –≤–∏–¥–∏—à—å –ø—É—Ç—å –Ω–∞ 6 –º–µ—Å—è—Ü–µ–≤ –≤–ø–µ—Ä—ë–¥.",
    extra: "–°—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —è—Å–Ω–æ, –≥–¥–µ —Ç—ã —Å–µ–π—á–∞—Å –∏ –∫–∞–∫ –ø—Ä–∏–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É—Ä–æ–≤–Ω—é.",
  },
];

watch(expandedIndex, (newVal) => {
  if (newVal !== null) {
    document.body.classList.add("scroll-lock");
  } else {
    document.body.classList.remove("scroll-lock");
  }
});
</script>

<style scoped>
body.scroll-lock {
  overflow: hidden;
}

.mentorship-section {
  padding: 80px 0;
  backdrop-filter: blur(20px);
  overflow: hidden;
  position: relative;
  color: white;
}

.title-block {
  text-align: center;
  margin-bottom: 48px;
}

.title {
  font-size: 2rem;
  font-weight: 700;
}

.subtitle {
  font-size: 1.125rem;
  color: rgba(255, 255, 255, 0.75);
}

.benefit-card {
  background: rgba(255, 255, 255, 0.08);
  border-radius: 20px;
  padding: 24px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(16px);
  transition: all 0.4s ease;
  cursor: pointer;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
}

.benefit-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.3);
}

.benefit-card.expanded {
  position: fixed;
  top: 50%;
  left: 50%;
  width: 90vw;
  max-width: 600px;
  max-height: 60vh;
  overflow-y: auto;
  z-index: 100;
  transform: translate(-50%, -50%) scale(1.05);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
  background: rgba(30, 30, 30, 0.85); /* –±–æ–ª–µ–µ –ø–ª–æ—Ç–Ω—ã–π —Ñ–æ–Ω */
  backdrop-filter: blur(20px);
  padding: 32px;
  border-radius: 24px;
}

.benefit-card.blurred {
  opacity: 0.3;
  pointer-events: none;
  filter: blur(2px);
  transform: scale(0.98);
}

.icon {
  font-size: 2rem;
  margin-bottom: 8px;
}

.benefit-title {
  font-size: 1.2rem;
  font-weight: 600;
}

.benefit-description {
  font-size: 1rem;
  color: rgba(255, 255, 255, 0.85);
}

.extra-description {
  margin-top: 16px;
  font-size: 0.95rem;
  line-height: 1.4;
  color: rgba(255, 255, 255, 0.95);
}

.cta {
  margin-top: 60px;
  text-align: center;
}

.cta-button {
  background: linear-gradient(to right, #6366f1, #8b5cf6);
  border: none;
  padding: 14px 32px;
  border-radius: 12px;
  font-size: 1rem;
  color: white;
  cursor: pointer;
  font-weight: 600;
  transition: background 0.3s ease;
}

.cta-button:hover {
  background: linear-gradient(to right, #7c3aed, #6d28d9);
}
</style>
